<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/neon-animation/web-animations.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">

<link rel="import" href="../light-page.html">
<link rel="import" href="../generic-form.html">
<link rel="import" href="../city-input.html">
<link rel="import" href="../github-input.html">
<link rel="import" href="../school-input.html">
<link rel="import" href="../bool-input.html">
<link rel="import" href="../major-input.html">

<dom-module id="register-form">
  <template>
    <style include="light-page">
      :host {
        display: block;
      }
      paper-checkbox, input[type="file"] {
        display: block;
        padding: 8px 0px;
      }
    </style>

    <h1 title>Registration</h1>

    <generic-form name="registration" data="{{data}}" closed>
      <div slot="intro">
        <p>
        nwHacks is Western Canada’s largest collegiate hackathon taking place on
        January 13th - 14th 2018 at the University of British Columbia.
        </p>
        <p>
        Please keep in mind that due to the large number of applications we
        receive every year, we are unable to accommodate every single applicant.
        While we do our best to support as many hackers as we can, we encourage
        you to put thought into your responses so we can assess all applicants
        fairly.
        </p>
        <p>First round applications are now closed. Second round acceptances will be sent out after <b>December 14th</b> depending on the number of available spots remaining.</p>
      </div>

      <paper-input
        required
        auto-validate
        maxlength="200"
        error-message="Invalid Phone Number"
        label="What is your phone number?"
        placeholder="xxx-xxx-xxxx"
        type="tel"
        name="phone"
        value="{{data.phone}}">
      </paper-input>

      <paper-dropdown-menu
        required
        auto-validate
        horizontal-align="left"
        error-message="Required"
        label="Which gender do you identify as?"
        placeholder="Select an answer"
        name="gender"
        selected-item-label="{{data.gender}}">

        <paper-listbox slot="dropdown-content">
          <paper-item>Female</paper-item>
          <paper-item>Male</paper-item>
          <paper-item>Non-binary</paper-item>
          <paper-item>Prefer not to specify</paper-item>
        </paper-listbox>
      </paper-dropdown-menu>

      <paper-input
        required
        auto-validate
        maxlength="200"
        error-message="Required"
        label="What is your birthday?"
        type="date"
        name="birthday"
        value="{{data.birthday}}">
      </paper-input>

      <school-input
        label="What school do you currently attend?"
        name="school"
        value="{{data.school}}">
      </school-input>

      <paper-input
        required="[[eq(data.school, 'The University of British Columbia')]]"
        hidden$="[[!eq(data.school, 'The University of British Columbia')]]"
        auto-validate
        maxlength="200"
        error-message="Required, must be 8 digits"
        allowed-pattern="[0-9]"
        pattern="\d{8}"
        placeholder="xxxxxxxx"
        label="What's your UBC student number?"
        name="student_number"
        value="{{data.student_number}}">
      </paper-input>

      <major-input
        label="What is your major?"
        name="major"
        value="{{data.major}}">
      </major-input>

      <paper-input
        required
        auto-validate
        maxlength="200"
        error-message="Required, must be at least 2017"
        label="What is your graduation year?"
        placeholder="20xx"
        type="number"
        min="2017"
        name="graduation"
        value="{{data.graduation}}">
      </paper-input>

      <paper-input
        required
        auto-validate
        maxlength="200"
        error-message="Required"
        label="What is the name of your emergency contact?"
        placeholder="Enter the name of your emergency contact"
        name="emergency_name"
        value="{{data.emergency_name}}">
      </paper-input>

      <paper-input
        required
        auto-validate
        maxlength="200"
        error-message="Invalid Phone Number"
        label="What is the phone number of your emergency contact?"
        placeholder="xxx-xxx-xxxx"
        type="tel"
        name="emergency_phone"
        value="{{data.emergency_phone}}">
      </paper-input>

      <city-input
        label="Where are you traveling from?"
        name="city"
        value="{{data.city}}">
      </city-input>

      <bool-input
        name="travel_reimbursement"
        value="{{data.travel_reimbursement}}">
        Would you like to apply for travel reimbursement?
        <ul>
          <li>
            If you are coming from the University of Washington, or the
            surrounding area, we will be providing shuttle busses.
          </li>
          <li>
            If selected to participate, we will only be subsidizing a maximum of
            $200.
          </li>
          <li>
            Please note: participants will only be reimbursed after
            submitting and demoing their project.
          </li>
        </ul>
      </bool-input>

      <bool-input
        label="Is this your first hackathon?"
        name="first_hackathon"
        value="{{data.first_hackathon}}">
      </bool-input>

      <paper-dropdown-menu
        required
        auto-validate
        horizontal-align="left"
        error-message="Required"
        label="What is your t-shirt size? (unisex)"
        placeholder='Select an answer'
        name="tshirt"
        selected-item-label="{{data.tshirt}}">
        <paper-listbox slot="dropdown-content">
          <paper-item>S</paper-item>
          <paper-item>M</paper-item>
          <paper-item>L</paper-item>
          <paper-item>XL</paper-item>
        </paper-listbox>
      </paper-dropdown-menu>

      <paper-dropdown-menu
        required
        auto-validate
        horizontal-align="left"
        error-message="Required"
        label="Do you have any dietary restrictions or allergies?"
        placeholder="Select an answer"
        name="dietary"
        selected-item-label="{{data.dietary}}">
        <paper-listbox slot="dropdown-content">
          <paper-item>No</paper-item>
          <paper-item>Vegetarian</paper-item>
          <paper-item>Vegan</paper-item>
          <paper-item>Gluten Free</paper-item>
          <paper-item>Other</paper-item>
        </paper-listbox>
      </paper-dropdown-menu>

      <paper-input
        required="[[eq(data.dietary, 'Other')]]"
        hidden$="[[!eq(data.dietary, 'Other')]]"
        auto-validate
        maxlength="200"
        error-message="Required"
        label="Please specify your dietary restrictions or allergies"
        placeholder="Enter restrictions here"
        name="dietary_other"
        value="{{data.dietary_other}}">
      </paper-input>

      <github-input
        label="GitHub"
        name="github"
        value="{{data.github}}">
      </github-input>

      <paper-input
        maxlength="200"
        label="LinkedIn"
        placeholder="LinkedIn"
        name="linkedin"
        value="{{data.linkedin}}">
        <div slot="prefix">https://linkedin.com/in/</div>
      </paper-input>

      <paper-input
        maxlength="200"
        label="Personal Site"
        auto-validate
        error-message="Invalid URL"
        name="personalsite"
        value="{{data.personalsite}}"
        placeholder="https://"
        type="url">
      </paper-input>

      <paper-input
        required
        auto-validate
        error-message="Required"
        always-float-label
        type="file"
        label="Resume"
        name="resume">
      </paper-input>

      <paper-textarea
        required
        auto-validate
        error-message="Required"
        label="What do you hope to get out of nwHacks?"
        placeholder="Max 500 words"
        rows=4
        name="reason"
        value="{{data.reason}}">
      </paper-textarea>

      <paper-textarea
        required
        auto-validate
        error-message="Required"
        label="Tell us about a recent project you’ve worked on that excites you! This doesn’t have to be technical."
        placeholder="Max 500 words"
        rows=4
        name="project"
        value="{{data.project}}">
      </paper-textarea>


      <paper-input
        required
        auto-validate
        maxlength="200"
        error-message="Required"
        label="If you were a piece of technology, what would you be?"
        placeholder="Enter your response"
        name="technology"
        value="{{data.technology}}">
      </paper-input>

      <bool-input
        name="volunteer"
        value="{{data.volunteer}}">
        If you are not able to come to nwHacks as a participant, would you be interested in volunteering for the event?
      </bool-input>

      <bool-input
        name="newsletter"
        value="{{data.newsletter}}">
        Would you like to sign up for StartupStorm’s newsletter to be informed of other tech events and hackathons happening in and around Vancouver?
      </bool-input>

      <paper-dropdown-menu
        required
        auto-validate
        error-message="Required"
        horizontal-align="left"
        label="How did you hear about nwHacks?"
        name="hear"
        selected-item-label="{{data.hear}}">
        <paper-listbox slot="dropdown-content">
          <paper-item>MLH</paper-item>
          <paper-item>Social Media</paper-item>
          <paper-item>Website</paper-item>
          <paper-item>Word of Mouth</paper-item>
          <paper-item>Club Newsletter</paper-item>
          <paper-item>Faculty Newsletter</paper-item>
          <paper-item>Professor/In Class</paper-item>
          <paper-item>Other</paper-item>
        </paper-listbox>
      </paper-dropdown-menu>

      <paper-input
        required="[[eq(data.hear, 'Other')]]"
        hidden$="[[!eq(data.hear, 'Other')]]"
        auto-validate
        maxlength="200"
        error-message="Required"
        label="Please specify where you heard about nwHacks"
        placeholder="Enter response here"
        name="hear_other"
        value="{{data.hear_other}}">
      </paper-input>

      <paper-checkbox
        required
        auto-validate
        error-message="Required">
        I agree to the terms of both the
        <a href="https://github.com/MLH/mlh-policies/tree/master/prize-terms-and-conditions" target="_blank">
          MLH Contest Terms and Conditions
        </a>
        and the
        <a href="https://mlh.io/privacy" target="_blank">MLH Privacy Policy</a>.
        Please note that you may receive pre and post-event informational
        e-mails and occasional messages about hackathons from MLH as per the MLH
        Privacy Policy.
      </paper-checkbox>

      <paper-checkbox
        required
        auto-validate
        error-message="Required">
        I agree to abide by the
        <a href="https://static.mlh.io/docs/mlh-code-of-conduct.pdf">
          MLH Code of Conduct
        </a> at all times during the
        event.
      </paper-checkbox>
    </generic-form>

  </template>

  <script>
class RegisterForm extends Polymer.Element {
  static get is () { return 'register-form' }

  eq (a, b) {
    return a === b
  }
}

customElements.define(RegisterForm.is, RegisterForm)
  </script>
</dom-module>
