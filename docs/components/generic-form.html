<html><head></head><body><div hidden="" by-polymer-bundler=""><script>Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:['_update(value, min, max, step)'],_calcRatio:function(a){return(this._clampValue(a)-this.min)/(this.max-this.min)},_clampValue:function(a){return Math.min(this.max,Math.max(this.min,this._calcStep(a)))},_calcStep:function(a){if(a=parseFloat(a),!this.step)return a;var b=Math.round((a-this.min)/this.step);return 1>this.step?b/(1/this.step)+this.min:b*this.step+this.min},_validateValue:function(){var a=this._clampValue(this.value);return this.value=this.oldValue=isNaN(a)?this.oldValue:a,this.value!==a},_update:function(){this._validateValue(),this._setRatio(100*this._calcRatio(this.value))}};</script><dom-module id="paper-progress" assetpath="../bower_components/paper-progress/"><template><style>:host{display:block;width:200px;position:relative;overflow:hidden;}:host([hidden]), [hidden]{display:none !important;}#progressContainer{@apply --paper-progress-container;position:relative;}#progressContainer,
      /* the stripe for the indeterminate animation*/
      .indeterminate::after{height:var(--paper-progress-height, 4px);}#primaryProgress,
      #secondaryProgress,
      .indeterminate::after{@apply --layout-fit;}#progressContainer,
      .indeterminate::after{background:var(--paper-progress-container-color, var(--google-grey-300));}:host(.transiting) #primaryProgress,
      :host(.transiting) #secondaryProgress{-webkit-transition-property:-webkit-transform;transition-property:transform;-webkit-transition-duration:var(--paper-progress-transition-duration, 0.08s);transition-duration:var(--paper-progress-transition-duration, 0.08s);-webkit-transition-timing-function:var(--paper-progress-transition-timing-function, ease);transition-timing-function:var(--paper-progress-transition-timing-function, ease);-webkit-transition-delay:var(--paper-progress-transition-delay, 0s);transition-delay:var(--paper-progress-transition-delay, 0s);}#primaryProgress,
      #secondaryProgress{@apply --layout-fit;-webkit-transform-origin:left center;transform-origin:left center;-webkit-transform:scaleX(0);transform:scaleX(0);will-change:transform;}#primaryProgress{background:var(--paper-progress-active-color, var(--google-green-500));}#secondaryProgress{background:var(--paper-progress-secondary-color, var(--google-green-100));}:host([disabled]) #primaryProgress{background:var(--paper-progress-disabled-active-color, var(--google-grey-500));}:host([disabled]) #secondaryProgress{background:var(--paper-progress-disabled-secondary-color, var(--google-grey-300));}:host(:not([disabled])) #primaryProgress.indeterminate{-webkit-transform-origin:right center;transform-origin:right center;-webkit-animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}:host(:not([disabled])) #primaryProgress.indeterminate::after{content:"";-webkit-transform-origin:center center;transform-origin:center center;-webkit-animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}@-webkit-keyframes indeterminate-bar{0%{-webkit-transform:scaleX(1) translateX(-100%);}50%{-webkit-transform:scaleX(1) translateX(0%);}75%{-webkit-transform:scaleX(1) translateX(0%);-webkit-animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{-webkit-transform:scaleX(0) translateX(0%);}}@-webkit-keyframes indeterminate-splitter{0%{-webkit-transform:scaleX(.75) translateX(-125%);}30%{-webkit-transform:scaleX(.75) translateX(-125%);-webkit-animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{-webkit-transform:scaleX(.75) translateX(125%);}100%{-webkit-transform:scaleX(.75) translateX(125%);}}@keyframes indeterminate-bar{0%{transform:scaleX(1) translateX(-100%);}50%{transform:scaleX(1) translateX(0%);}75%{transform:scaleX(1) translateX(0%);animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{transform:scaleX(0) translateX(0%);}}@keyframes indeterminate-splitter{0%{transform:scaleX(.75) translateX(-125%);}30%{transform:scaleX(.75) translateX(-125%);animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{transform:scaleX(.75) translateX(125%);}100%{transform:scaleX(.75) translateX(125%);}}</style><div id="progressContainer"><div id="secondaryProgress" hidden$="[[_hideSecondaryProgress(secondaryRatio)]]"></div><div id="primaryProgress"></div></div></template></dom-module><script>Polymer({is:'paper-progress',behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:'_toggleIndeterminate'},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:'_disabledChanged'}},observers:['_progressChanged(secondaryProgress, value, min, max, indeterminate)'],hostAttributes:{role:'progressbar'},_toggleIndeterminate:function(a){this.toggleClass('indeterminate',a,this.$.primaryProgress)},_transformProgress:function(a,b){a.style.transform=a.style.webkitTransform='scaleX('+b/100+')'},_mainRatioChanged:function(a){this._transformProgress(this.$.primaryProgress,a)},_progressChanged:function(a,b,c,d,e){a=this._clampValue(a),b=this._clampValue(b);var f=100*this._calcRatio(a),g=100*this._calcRatio(b);this._setSecondaryRatio(f),this._transformProgress(this.$.secondaryProgress,f),this._transformProgress(this.$.primaryProgress,g),this.secondaryProgress=a,e?this.removeAttribute('aria-valuenow'):this.setAttribute('aria-valuenow',b),this.setAttribute('aria-valuemin',c),this.setAttribute('aria-valuemax',d)},_disabledChanged:function(a){this.setAttribute('aria-disabled',a?'true':'false')},_hideSecondaryProgress:function(a){return 0===a}});</script><script>var config={apiKey:"AIzaSyATJyN_W5ZJiiaOPwhn8ljIxn85Eo5uQEA",authDomain:"nwhacks-2018.firebaseapp.com",databaseURL:"https://nwhacks-2018.firebaseio.com",projectId:"nwhacks-2018",storageBucket:"nwhacks-2018.appspot.com",messagingSenderId:"838873768070"};firebase.initializeApp(config);</script></div><dom-module id="generic-form"><template><style include="shared-styles">form{max-width:640px;margin:0 auto;}.invalid{color:red;}</style><form id="form"><slot name="intro"></slot><paper-input required="" auto-validate="" maxlength="200" error-message="Required" label="What is your legal first name?" placeholder="Enter your first name" value="{{data.first_name}}"></paper-input><paper-input required="" auto-validate="" maxlength="200" error-message="Required" label="What is your legal last name?" placeholder="Enter your last name" value="{{data.last_name}}"></paper-input><paper-input required="" auto-validate="" maxlength="200" error-message="Invalid Email" type="email" placeholder="hacker@email.com" label="What is your email?" value="{{data.email}}"></paper-input><p class="invalid" hidden$="{{!alreadySubmitted}}">You've already submitted once. You can do so again, but only your last submission will be considered.</p><slot></slot><p class="invalid" hidden$="{{valid}}">You must fill out all required fields.</p><center><paper-button elevation="1" on-tap="submit" class="register">Register</paper-button></center></form><paper-dialog id="registered" modal=""><h2>Submitted!</h2><p>All set! We'll get back to you in a few weeks.</p><div class="buttons"><a href="/"><paper-button dialog-confirm="" autofocus="">Return Home</paper-button></a></div></paper-dialog><paper-dialog id="submitting" modal=""><h2>Submitting...</h2><p><paper-progress indeterminate=""></paper-progress></p></paper-dialog><paper-dialog id="error" modal=""><h2>Error Submitting</h2><p>[[error]]</p><p>Please try again later or use a different browser.</p><div class="buttons"><paper-button dialog-confirm="" autofocus="">close</paper-button></div></paper-dialog></template><script>var GenericForm=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'checkEmail',value:function(a){var b=this;console.log('email',a),this.checkEmailTimeout&&(clearTimeout(this.checkEmailTimeout),this.checkEmailTimeout=!1),a&&(this.checkEmailTimeout=setTimeout(function(){b.checkEmailTimeout=!1,firebase.database().ref('emails/'+b.name).child(btoa(b.data.email)).once('value').then(function(a){var c=a.val();b.alreadySubmitted=!!c})},200))}},{key:'validate',value:function(){var a,b=!0,c=!0,d=!1;try{for(var e,f,g=this.inputs()[Symbol.iterator]();!(c=(e=g.next()).done);c=!0)f=e.value,f.validate()||(b=!1)}catch(b){d=!0,a=b}finally{try{!c&&g.return&&g.return()}finally{if(d)throw a}}return this.valid=b,b}},{key:'inputs',value:function(){return Array.from(this.children).concat(Array.from(this.$.form.children)).filter(function(b){return b.validate})}},{key:'fileInputs',value:function(){return this.inputs().filter(function(b){return'file'===b.type})}},{key:'submit',value:function(){var a=this;if(this.validate()){this.$.submitting.open();var b,c=firebase.database().ref('ids').push().key,d=Promise.resolve(),e=!0,f=!1;try{for(var g,h=this.fileInputs()[Symbol.iterator]();!(e=(g=h.next()).done);e=!0){var i=g.value,j=i.name,k=i.inputElement.inputElement.files;if(0<k.length){var l=k[0],m=this.cleanFileName(l.name),n=this.name+'/'+j+'/'+c+'-'+m;this.data[j]=n,d=firebase.storage().ref(n).put(l)}}}catch(a){f=!0,b=a}finally{try{!e&&h.return&&h.return()}finally{if(f)throw b}}d.then(function(){return firebase.database().ref('form/'+a.name).child(c).set(a.data)}).then(function(){return firebase.database().ref('emails/'+a.name).child(btoa(a.data.email)).set(!0)}).then(function(b){console.log('Registered',b),a.$.submitting.close(),a.$.registered.open()}).catch(function(b){console.log('Error!',b),a.error=b&&b.message||b,a.$.submitting.close(),a.$.error.open()})}}},{key:'cleanFileName',value:function(a){return a.replace(/[^A-Za-z0-9\.\-\(\)]+/g,'-')}}],[{key:'is',get:function(){return'generic-form'}},{key:'properties',get:function(){return{name:{type:String},alreadySubmitted:{type:Boolean,value:!1},valid:{type:Boolean,notify:!0,value:!0},data:{value:function(){return{}},notify:!0,type:Object}}}},{key:'observers',get:function(){return['checkEmail(data.email)']}}]),b}(Polymer.Element);customElements.define(GenericForm.is,GenericForm);</script></dom-module></body></html>