<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="admin-list" assetpath="../"><template><style include="shared-styles">#input{display:flex;align-items:center;}paper-input{flex-grow:10000;}</style><table><thead><tr><th>Name</th><th>Email</th><th>Last Accessed</th></tr></thead><tbody><template is="dom-repeat" items="[[list(admins, admins.*)]]"><tr><td>[[item.body.name]]</td><td><a href="mailto:[[item.email]]">[[item.email]]</a></td><td>[[ago(item.body.last_accessed)]]</td><td><paper-icon-button icon="delete-forever" on-tap="delete"></paper-icon-button></td></tr><tr></tr></template></tbody></table><div id="input"><paper-input label="Name" required="" type="name" auto-validate="" value="{{name}}"></paper-input>&nbsp;<paper-input label="Email" required="" type="email" auto-validate="" value="{{email}}"></paper-input>&nbsp;<paper-button on-tap="submit">Add Admin</paper-button></div><template is="dom-if" if="[[isAdmin]]"><firebase-document path="/admins" data="{{admins}}"></firebase-document></template></template><script>var AdminList=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'list',value:function(a){var b,c=[],d=!0,e=!1;try{for(var f,g,h=Object.keys(a)[Symbol.iterator]();!(d=(f=h.next()).done);d=!0)g=f.value,c.push({id:g,email:unescape(g),body:a[g]})}catch(a){e=!0,b=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw b}}return c}},{key:'ago',value:function(a){return a?moment(a).fromNow():'never'}},{key:'validate',value:function(){var a,b=!0,c=!0,d=!1;try{for(var f,g,e=this.$.input.children[Symbol.iterator]();!(c=(f=e.next()).done);c=!0)g=f.value,g.validate&&!g.validate()&&(b=!1)}catch(b){d=!0,a=b}finally{try{!c&&e.return&&e.return()}finally{if(d)throw a}}return b}},{key:'formatEmail',value:function(a){return a?a.replace(/\./g,'%2E'):void 0}},{key:'submit',value:function(){if(this.validate()){var a=this.email.toLowerCase();this.set(['admins',this.formatEmail(a)],{name:this.name,email:a}),this.name='',this.email=''}}},{key:'delete',value:function(a){var b=a.model.item,c=b.body.name||'';confirm('Remove admin '+c+' ('+b.email+')?')&&this.set(['admins',b.id],null)}}],[{key:'is',get:function(){return'admin-list'}}]),b}(Polymer.Element);customElements.define(AdminList.is,AdminList);</script></dom-module><dom-module id="tag-manager" assetpath="../"><template><style include="shared-styles">#input{display:flex;align-items:center;}paper-input{flex-grow:10000;--paper-input-container:{padding-bottom:8px;};}table{width:100%;}</style><table><thead><tr><th>Tag</th><th>Created</th><th>RSVP By</th><th>Locked</th></tr></thead><tbody><template is="dom-repeat" items="{{_tags}}"><tr><td><nw-tag tag="[[item.name]]"></nw-tag></td><td>[[ago(item.created)]]</td><td><paper-input label="RSVP By" type="date" disabled="[[item.locked]]" value="{{item.rsvp_by}}"></paper-input></td><td><paper-icon-button icon="[[lockIcon(item.locked)]]" on-tap="lock"></paper-icon-button><template is="dom-if" if="[[!item.locked]]"><paper-icon-button icon="delete-forever" on-tap="delete"></paper-icon-button></template></td></tr><tr></tr></template></tbody></table><div id="input"><paper-input label="Tag" required="" type="name" auto-validate="" value="{{name}}"></paper-input>&nbsp;<paper-button on-tap="submit">Add Tag</paper-button></div><template is="dom-if" if="[[isAdmin]]"><firebase-document path="/admin/tags" data="{{tags}}"></firebase-document></template></template><script>var TagManager=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_updateTags',value:function(a){var b,c=this,d=[],e=!0,f=!1;try{for(var g,h=Object.keys(a)[Symbol.iterator]();!(e=(g=h.next()).done);e=!0){var i=g.value,j=a[i];j&&d.push(j)}}catch(a){f=!0,b=a}finally{try{!e&&h.return&&h.return()}finally{if(f)throw b}}this._tags=d,d.forEach(function(a,b){c.linkPaths(['tags',a.name],['_tags',b]),c.linkPaths(['_tags',b],['tags',a.name])})}},{key:'ago',value:function(a){return a?moment(a).fromNow():'never'}},{key:'lockIcon',value:function(a){return a?'lock':'lock-open'}},{key:'validate',value:function(){var a,b=!0,c=!0,d=!1;try{for(var f,g,e=this.$.input.children[Symbol.iterator]();!(c=(f=e.next()).done);c=!0)g=f.value,g.validate&&!g.validate()&&(b=!1)}catch(b){d=!0,a=b}finally{try{!c&&e.return&&e.return()}finally{if(d)throw a}}return b}},{key:'lock',value:function(a){a.model.set('item.locked',!a.model.item.locked)}},{key:'delete',value:function(a){var b=a.model.item;confirm('Delete '+b.name+'?')&&this.set(['tags',b.name],null)}},{key:'submit',value:function(){if(this.validate()){var a=this.name.trim().replace(/\W+/g,'-');this.set(['tags',a],{slug:a,name:this.name,created:moment().toISOString()}),this.name=''}}}],[{key:'is',get:function(){return'tag-manager'}},{key:'observers',get:function(){return['_updateTags(tags, tags.*)']}}]),b}(Polymer.Element);customElements.define(TagManager.is,TagManager);</script></dom-module><dom-module id="notification-manager" assetpath="../"><template><style></style><h3>Send Notification</h3><paper-input value="{{args.title}}" auto-validate="" required="" label="Title"></paper-input><paper-input value="{{args.body}}" auto-validate="" required="" label="Body"></paper-input><code class="invalid" hidden$="[[!error]]"><pre>[[error]]</pre></code> <code><pre>[[stringify(ret)]]</pre></code><p hidden$="[[!finished]]">Finished!</p><nw-job id="send" args="{{args}}" type="notification.send" finished="{{finished}}" working="{{working}}" return="{{ret}}" error="{{error}}"></nw-job><paper-button class="register" on-tap="send" disabled$="[[working]]">Send</paper-button></template><script>var NotificationManager=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'validate',value:function(){var a,b=!0,c=!1;try{for(var d,f,e=this.root.querySelectorAll('paper-input')[Symbol.iterator]();!(b=(d=e.next()).done);b=!0)if(f=d.value,!f.validate())return!1}catch(b){c=!0,a=b}finally{try{!b&&e.return&&e.return()}finally{if(c)throw a}}return!0}},{key:'send',value:function(){this.validate()&&this.$.send.generateRequest()}},{key:'stringify',value:function(a){return JSON.stringify(a,'','  ')}}],[{key:'is',get:function(){return'notification-manager'}},{key:'properties',get:function(){return{args:{value:function(){return{title:'nwHacks 2018',icon:'/img/nwhacks-navbar-logo.png'}}}}}}]),b}(Polymer.Element);customElements.define(NotificationManager.is,NotificationManager);</script></dom-module></div><dom-module id="admin-settings"><template><style include="light-page"></style><h1 title="">Admin Settings</h1><div class="content"><h2>Permissions</h2><admin-list is-admin="[[isAdmin]]"></admin-list><h2>Tags</h2><tag-manager is-admin="[[isAdmin]]"></tag-manager><h2>Notifications</h2><notification-manager is-admin="[[isAdmin]]"></notification-manager></div></template><script>var AdminSettings=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'admin-settings'}}]),b}(Polymer.Element);customElements.define(AdminSettings.is,AdminSettings);</script></dom-module></body></html>