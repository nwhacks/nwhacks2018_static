<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="admin-list" assetpath="../"><template><style include="shared-styles">#input{display:flex;align-items:center;}paper-input{flex-grow:10000;}table{width:100%;}</style><table><thead><tr><th>Name</th><th>Email</th><th>Last Accessed</th></tr></thead><tbody><template is="dom-repeat" items="[[list(admins, admins.*)]]"><tr><td>[[item.body.name]]</td><td><a href="mailto:[[item.email]]">[[item.email]]</a></td><td>[[ago(item.body.last_accessed)]]</td><td><paper-icon-button icon="delete-forever" on-tap="delete"></paper-icon-button></td></tr><tr></tr></template></tbody></table><div id="input"><paper-input label="Name" required="" type="name" auto-validate="" value="{{name}}"></paper-input>&nbsp;<paper-input label="Email" required="" type="email" auto-validate="" value="{{email}}"></paper-input>&nbsp;<paper-button on-tap="submit">Add Admin</paper-button></div><template is="dom-if" if="[[isAdmin]]"><firebase-document path="/admins" data="{{admins}}"></firebase-document></template></template><script>var AdminList=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'list',value:function(a){var b,c=[],d=!0,e=!1;try{for(var f,g,h=Object.keys(a)[Symbol.iterator]();!(d=(f=h.next()).done);d=!0)g=f.value,c.push({id:g,email:unescape(g),body:a[g]})}catch(a){e=!0,b=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw b}}return c}},{key:'ago',value:function(a){return a?moment(a).fromNow():'never'}},{key:'validate',value:function(){var a,b=!0,c=!0,d=!1;try{for(var f,g,e=this.$.input.children[Symbol.iterator]();!(c=(f=e.next()).done);c=!0)g=f.value,g.validate&&!g.validate()&&(b=!1)}catch(b){d=!0,a=b}finally{try{!c&&e.return&&e.return()}finally{if(d)throw a}}return b}},{key:'formatEmail',value:function(a){return a?a.replace(/\./g,'%2E'):void 0}},{key:'submit',value:function(){this.validate()&&(this.set(['admins',this.formatEmail(this.email)],{name:this.name,email:this.email}),this.name='',this.email='')}},{key:'delete',value:function(a){var b=a.model.item,c=b.body.name||'';confirm('Remove admin '+c+' ('+b.email+')?')&&this.set(['admins',b.id],null)}}],[{key:'is',get:function(){return'admin-list'}}]),b}(Polymer.Element);customElements.define(AdminList.is,AdminList);</script></dom-module></div><dom-module id="admin-settings"><template><style include="light-page"></style><h1 title="">Admin Settings</h1><div class="content"><h2>Permissions</h2><admin-list is-admin="[[isAdmin]]"></admin-list></div></template><script>var AdminSettings=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'admin-settings'}}]),b}(Polymer.Element);customElements.define(AdminSettings.is,AdminSettings);</script></dom-module></body></html>